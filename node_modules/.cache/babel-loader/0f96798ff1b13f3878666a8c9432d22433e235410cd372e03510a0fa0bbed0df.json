{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mayuri\\\\Downloads\\\\Ecommerce-frontend-main\\\\Ecommerce-frontend-main\\\\src\\\\components\\\\Checkout\\\\checkout.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport './Checkout.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe('your-publishable-key-here');\nconst CheckoutForm = ({\n  cart,\n  handleCheckout\n}) => {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [email, setEmail] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [paymentResult, setPaymentResult] = useState(null);\n  const processCheckout = async event => {\n    event.preventDefault();\n    if (!stripe || !elements) {\n      return;\n    }\n    setIsProcessing(true);\n    const cardElement = elements.getElement(CardElement);\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: cardElement,\n      billing_details: {\n        email: email\n      }\n    });\n    if (error) {\n      console.error(error);\n      setIsProcessing(false);\n      setPaymentResult({\n        success: false,\n        message: error.message\n      });\n    } else {\n      console.log('Payment method created:', paymentMethod);\n      // Handle the payment processing here (e.g., send to your backend)\n      const response = await fetch('/api/charge', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          paymentMethodId: paymentMethod.id,\n          items: cart,\n          email\n        })\n      });\n      const paymentResult = await response.json();\n      setIsProcessing(false);\n      setPaymentResult(paymentResult);\n      if (paymentResult.success) {\n        handleCheckout();\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: processCheckout,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardElement, {\n      className: \"stripe-element\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: !stripe || isProcessing,\n      children: isProcessing ? 'Processing...' : 'Place Order'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), paymentResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: paymentResult.success ? 'success' : 'error',\n      children: paymentResult.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckoutForm, \"ZFsNWsn8ng2foE9s6cktGDSaVMs=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = CheckoutForm;\nconst Checkout = ({\n  cart,\n  handleCheckout\n}) => {\n  const calculateTotal = () => {\n    return cart.reduce((acc, item) => acc + item.price * item.quantity, 0).toFixed(2);\n  };\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: stripePromise,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-items\",\n        children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"$\", item.price.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Quantity: \", item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-summary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Total Price: $\", calculateTotal()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CheckoutForm, {\n        cart: cart,\n        handleCheckout: handleCheckout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_c2 = Checkout;\nexport default Checkout;\nvar _c, _c2;\n$RefreshReg$(_c, \"CheckoutForm\");\n$RefreshReg$(_c2, \"Checkout\");","map":{"version":3,"names":["React","useState","loadStripe","Elements","CardElement","useStripe","useElements","jsxDEV","_jsxDEV","stripePromise","CheckoutForm","cart","handleCheckout","_s","stripe","elements","email","setEmail","isProcessing","setIsProcessing","paymentResult","setPaymentResult","processCheckout","event","preventDefault","cardElement","getElement","error","paymentMethod","createPaymentMethod","type","card","billing_details","console","success","message","log","response","fetch","method","headers","body","JSON","stringify","paymentMethodId","id","items","json","onSubmit","children","placeholder","value","onChange","e","target","required","fileName","_jsxFileName","lineNumber","columnNumber","className","disabled","_c","Checkout","calculateTotal","reduce","acc","item","price","quantity","toFixed","map","name","_c2","$RefreshReg$"],"sources":["C:/Users/Mayuri/Downloads/Ecommerce-frontend-main/Ecommerce-frontend-main/src/components/Checkout/checkout.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\nimport './Checkout.css';\r\n\r\nconst stripePromise = loadStripe('your-publishable-key-here');\r\n\r\nconst CheckoutForm = ({ cart, handleCheckout }) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [email, setEmail] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [paymentResult, setPaymentResult] = useState(null);\r\n\r\n  const processCheckout = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n\r\n    const cardElement = elements.getElement(CardElement);\r\n\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: 'card',\r\n      card: cardElement,\r\n      billing_details: {\r\n        email: email\r\n      }\r\n    });\r\n\r\n    if (error) {\r\n      console.error(error);\r\n      setIsProcessing(false);\r\n      setPaymentResult({ success: false, message: error.message });\r\n    } else {\r\n      console.log('Payment method created:', paymentMethod);\r\n      // Handle the payment processing here (e.g., send to your backend)\r\n      const response = await fetch('/api/charge', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          paymentMethodId: paymentMethod.id,\r\n          items: cart,\r\n          email\r\n        })\r\n      });\r\n      \r\n      const paymentResult = await response.json();\r\n\r\n      setIsProcessing(false);\r\n      setPaymentResult(paymentResult);\r\n\r\n      if (paymentResult.success) {\r\n        handleCheckout();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={processCheckout}>\r\n      <input\r\n        type=\"email\"\r\n        placeholder=\"Email\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        required\r\n      />\r\n      <CardElement className=\"stripe-element\" />\r\n      <button type=\"submit\" disabled={!stripe || isProcessing}>\r\n        {isProcessing ? 'Processing...' : 'Place Order'}\r\n      </button>\r\n      {paymentResult && (\r\n        <div className={paymentResult.success ? 'success' : 'error'}>\r\n          {paymentResult.message}\r\n        </div>\r\n      )}\r\n    </form>\r\n  );\r\n};\r\n\r\nconst Checkout = ({ cart, handleCheckout }) => {\r\n  const calculateTotal = () => {\r\n    return cart.reduce((acc, item) => acc + item.price * item.quantity, 0).toFixed(2);\r\n  };\r\n\r\n  return (\r\n    <Elements stripe={stripePromise}>\r\n      <div className=\"checkout\">\r\n        <h2>Checkout</h2>\r\n        <div className=\"cart-items\">\r\n          {cart.map((item) => (\r\n            <div key={item.id} className=\"cart-item\">\r\n              <div>{item.name}</div>\r\n              <div>${item.price.toFixed(2)}</div>\r\n              <div>Quantity: {item.quantity}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"cart-summary\">\r\n          <div>Total Price: ${calculateTotal()}</div>\r\n        </div>\r\n        <CheckoutForm cart={cart} handleCheckout={handleCheckout} />\r\n      </div>\r\n    </Elements>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}